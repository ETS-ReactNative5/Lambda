'use strict';
var TxtRotate = function (a, b, c) {
  this.toRotate = b;
  this.el = a;
  this.loopNum = 0;
  this.period = parseInt (c, 10) || 2e3;
  this.txt = '';
  this.tick ();
  this.isDeleting = !1;
};
TxtRotate.prototype.tick = function () {
  var a = this.toRotate[this.loopNum % this.toRotate.length];
  this.txt = this.isDeleting
    ? a.substring (0, this.txt.length - 1)
    : a.substring (0, this.txt.length + 1);
  this.el.innerHTML = '<span class="wrap">' + this.txt + '</span>';
  var b = this, c = 300 - 100 * Math.random ();
  this.isDeleting && (c /= 2);
  this.isDeleting || this.txt !== a
    ? this.isDeleting &&
        '' === this.txt &&
        ((this.isDeleting = !1), this.loopNum++, (c = 500))
    : ((c = this.period), (this.isDeleting = !0));
  setTimeout (function () {
    b.tick ();
  }, c);
};
window.onload = function () {
  for (
    var a = document.getElementsByClassName ('txt-rotate'), b = 0;
    b < a.length;
    b++
  ) {
    var c = a[b].getAttribute ('data-rotate'),
      d = a[b].getAttribute ('data-period');
    c && new TxtRotate (a[b], JSON.parse (c), d);
  }
  a = document.createElement ('style');
  a.type = 'text/css';
  a.innerHTML = '.txt-rotate > .wrap { border-right: 0.08em solid #666 }';
  document.body.appendChild (a);
};
